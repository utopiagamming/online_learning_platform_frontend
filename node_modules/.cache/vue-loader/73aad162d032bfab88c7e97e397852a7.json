{"remainingRequest":"D:\\working\\projectCodes\\automatic-test-paper\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\working\\projectCodes\\automatic-test-paper\\src\\components\\page\\examination\\Subject.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\working\\projectCodes\\automatic-test-paper\\src\\components\\page\\examination\\Subject.vue","mtime":1675849732079},{"path":"D:\\working\\projectCodes\\automatic-test-paper\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\working\\projectCodes\\automatic-test-paper\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\working\\projectCodes\\automatic-test-paper\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\working\\projectCodes\\automatic-test-paper\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n    export default {\n        name: \"Subject\",\n        inject:['reload'],\n        data(){\n            return{\n                tableData: [],\n                currentNum: 1,\n                pageSize: 10,\n                startDate: '',\n                total: 0,\n                tableDataShow: false,\n                form:{\n                    subjectName: ''\n                },\n                dialogVisible: false,\n            }\n        },\n        methods: {\n            deleteSub(e){\n                console.log(e)\n                let params = {\n                    subjectId: e.row.subjectId,\n                };\n                this.axios\n                    .post('/zj/sub/deleteBySubject.htm', params)\n                    .then(\n                        function (response) {\n                            if (response.data.code == \"0000\"){\n                                this.$message.success(\"删除成功\");\n                                this.dialogVisible = false;\n                                this.reload();\n                            }else {\n                                this.$message.error(\"删除失败\");\n                            }\n                        }.bind(this)\n                    )\n                    .catch(function (error) {\n                        console.log(error);\n                    });\n\n            },\n            insert(){\n                let params = {\n                    subjectName: this.form.subjectName,\n                };\n                this.axios\n                    .post('/zj/sub/insertBySubject.htm', params)\n                    .then(\n                        function (response) {\n                            if (response.data.code == \"0000\"){\n                                this.$message.success(\"新增成功\");\n                                this.dialogVisible = false;\n                                this.reload();\n                            }else {\n                                this.$message.error(\"新增失败\");\n                            }\n                        }.bind(this)\n                    )\n                    .catch(function (error) {\n                        console.log(error);\n                    });\n            },\n            handleClose(done) {\n                this.$confirm('确认关闭？')\n                    .then(_ => {\n                        done();\n                    })\n                    .catch(_ => {\n                    });\n            },\n            handleClick(row) {\n                console.log(row);\n            },\n            changePage(page) {\n                //设置页码\n                this.currentNum = page;\n                this.queryPage();\n            },\n            changePageSize(pageSize) {\n                //设置每页展示数量\n                this.pageSize = pageSize;\n                this.queryPage();\n            },\n            queryPage() {\n                let params = {\n                    currentNum: this.currentNum,\n                    pageSize: this.pageSize,\n                    menuName: this.menuName,\n                };\n                this.axios\n                    .post('/zj/sub/queryPageBySubject.htm', params)\n                    .then(\n                        function (response) {\n                            this.tableData = response.data.result.list;\n                            this.total = response.data.result.count;\n                            this.tableDataShow = true;\n                        }.bind(this)\n                    )\n                    .catch(function (error) {\n                        console.log(error);\n                    });\n            },\n        },\n        created() {\n            this.queryPage()\n        }\n    }\n",{"version":3,"sources":["Subject.vue"],"names":[],"mappings":";AAsEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Subject.vue","sourceRoot":"src/components/page/examination","sourcesContent":["<template>\n    <div>\n        <el-row :gutter=\"20\">\n            <el-col :span=\"6\"></el-col>\n            <el-col :span=\"6\" style=\"margin-left: 85%\">\n                <el-button type=\"primary\" @click=\"dialogVisible = true\">新增科目</el-button>\n            </el-col>\n        </el-row>\n\n        <el-table\n                :data=\"tableData\"\n                height=\"250\"\n                border\n                stripe\n                style=\"width: 100%\">\n            <el-table-column\n                    prop=\"subjectId\"\n                    label=\"科目Id\"\n                    >\n            </el-table-column>\n            <el-table-column\n                    prop=\"subjectName\"\n                    label=\"科目\"\n                    >\n            </el-table-column>\n            <el-table-column\n                    prop=\"updateTime\"\n                    label=\"时间\"\n                    >\n            </el-table-column>\n            <el-table-column\n                    fixed=\"right\"\n                    label=\"操作\"\n                    >\n                <template slot-scope=\"scope\">\n                    <el-button type=\"text\" size=\"small\" @click=\"deleteSub(scope)\">删除</el-button>\n                </template>\n            </el-table-column>\n        </el-table>\n\n        <Page :total=\"total\"\n              show-total\n              show-sizer\n              :page-size-opts=\"[10, 20, 30, 40, 10000]\"\n              v-show=\"tableDataShow\"\n              @on-change=\"changePage\"\n              @on-page-size-change=\"changePageSize\"\n              style=\"text-align: center;\"\n        />\n\n        <el-dialog\n                title=\"提示\"\n                :visible.sync=\"dialogVisible\"\n                width=\"30%\"\n                :before-close=\"handleClose\">\n            <el-form ref=\"form\" :model=\"form\" label-width=\"80px\">\n                <el-form-item label=\"科目：\">\n                    <el-input v-model=\"form.subjectName\" ></el-input>\n                </el-form-item>\n            </el-form>\n            <span slot=\"footer\" class=\"dialog-footer\">\n              <el-button @click=\"dialogVisible = false\">取 消</el-button>\n              <el-button type=\"primary\" @click=\"insert\">新 增</el-button>\n            </span>\n        </el-dialog>\n\n    </div>\n</template>\n\n<script>\n    export default {\n        name: \"Subject\",\n        inject:['reload'],\n        data(){\n            return{\n                tableData: [],\n                currentNum: 1,\n                pageSize: 10,\n                startDate: '',\n                total: 0,\n                tableDataShow: false,\n                form:{\n                    subjectName: ''\n                },\n                dialogVisible: false,\n            }\n        },\n        methods: {\n            deleteSub(e){\n                console.log(e)\n                let params = {\n                    subjectId: e.row.subjectId,\n                };\n                this.axios\n                    .post('/zj/sub/deleteBySubject.htm', params)\n                    .then(\n                        function (response) {\n                            if (response.data.code == \"0000\"){\n                                this.$message.success(\"删除成功\");\n                                this.dialogVisible = false;\n                                this.reload();\n                            }else {\n                                this.$message.error(\"删除失败\");\n                            }\n                        }.bind(this)\n                    )\n                    .catch(function (error) {\n                        console.log(error);\n                    });\n\n            },\n            insert(){\n                let params = {\n                    subjectName: this.form.subjectName,\n                };\n                this.axios\n                    .post('/zj/sub/insertBySubject.htm', params)\n                    .then(\n                        function (response) {\n                            if (response.data.code == \"0000\"){\n                                this.$message.success(\"新增成功\");\n                                this.dialogVisible = false;\n                                this.reload();\n                            }else {\n                                this.$message.error(\"新增失败\");\n                            }\n                        }.bind(this)\n                    )\n                    .catch(function (error) {\n                        console.log(error);\n                    });\n            },\n            handleClose(done) {\n                this.$confirm('确认关闭？')\n                    .then(_ => {\n                        done();\n                    })\n                    .catch(_ => {\n                    });\n            },\n            handleClick(row) {\n                console.log(row);\n            },\n            changePage(page) {\n                //设置页码\n                this.currentNum = page;\n                this.queryPage();\n            },\n            changePageSize(pageSize) {\n                //设置每页展示数量\n                this.pageSize = pageSize;\n                this.queryPage();\n            },\n            queryPage() {\n                let params = {\n                    currentNum: this.currentNum,\n                    pageSize: this.pageSize,\n                    menuName: this.menuName,\n                };\n                this.axios\n                    .post('/zj/sub/queryPageBySubject.htm', params)\n                    .then(\n                        function (response) {\n                            this.tableData = response.data.result.list;\n                            this.total = response.data.result.count;\n                            this.tableDataShow = true;\n                        }.bind(this)\n                    )\n                    .catch(function (error) {\n                        console.log(error);\n                    });\n            },\n        },\n        created() {\n            this.queryPage()\n        }\n    }\n</script>\n\n<style scoped>\n\n</style>"]}]}