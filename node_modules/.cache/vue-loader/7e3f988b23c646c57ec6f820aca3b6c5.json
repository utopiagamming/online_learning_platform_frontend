{"remainingRequest":"/Users/mirabilite/IdeaProjects/version1/automatic-test-paper/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mirabilite/IdeaProjects/version1/automatic-test-paper/src/components/page/class/classInfo.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mirabilite/IdeaProjects/version1/automatic-test-paper/src/components/page/class/classInfo.vue","mtime":1684293803831},{"path":"/Users/mirabilite/IdeaProjects/version1/automatic-test-paper/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mirabilite/IdeaProjects/version1/automatic-test-paper/node_modules/babel-loader/lib/index.js","mtime":456789000000},{"path":"/Users/mirabilite/IdeaProjects/version1/automatic-test-paper/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mirabilite/IdeaProjects/version1/automatic-test-paper/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n    export default {\n        name: \"classInfo\",\n        inject: ['reload'],\n        data() {\n            return {\n                tableData: [],\n                currentNum: 1,\n                pageSize: 10,\n                startDate: '',\n                total: 0,\n                tableDataShow: false,\n                form: {\n                    className: ''\n                },\n                dialogVisible: false,\n            }\n        },\n        methods: {\n            deleteSub(e) {\n                console.log(e)\n                let params = {\n                    id: e.row.classId,\n                };\n                this.axios\n                    .post('/zj/class/delete.htm', params)\n                    .then(\n                        function (response) {\n                            if (response.data.code == \"0000\") {\n                                this.$message.success(\"删除成功\");\n                                this.dialogVisible = false;\n                                this.reload();\n                            } else {\n                                this.$message.error(\"删除失败\");\n                            }\n                        }.bind(this)\n                    )\n                    .catch(function (error) {\n                        console.log(error);\n                    });\n\n            },\n            insert() {\n                let params = {\n                    className: this.form.className,\n                };\n                this.axios\n                    .post('/zj/class/insert.htm', params)\n                    .then(\n                        function (response) {\n                            if (response.data.code == \"0000\") {\n                                this.$message.success(\"新增成功\");\n                                this.dialogVisible = false;\n                                this.reload();\n                            } else {\n                                this.$message.error(\"新增失败\");\n                            }\n                        }.bind(this)\n                    )\n                    .catch(function (error) {\n                        console.log(error);\n                    });\n            },\n            handleClose(done) {\n                this.$confirm('确认关闭？')\n                    .then(_ => {\n                        done();\n                    })\n                    .catch(_ => {\n                    });\n            },\n            handleClick(row) {\n                console.log(row);\n            },\n            changePage(page) {\n                //设置页码\n                this.currentNum = page;\n                this.queryPage();\n            },\n            changePageSize(pageSize) {\n                //设置每页展示数量\n                this.pageSize = pageSize;\n                this.queryPage();\n            },\n            queryPage() {\n                let params = {\n                    currentNum: this.currentNum,\n                    pageSize: this.pageSize,\n                };\n                this.axios\n                    .post('/zj/class/queryPageByClass.htm', params)\n                    .then(\n                        function (response) {\n                            this.tableData = response.data.result.list;\n                            this.total = response.data.result.count;\n                            this.tableDataShow = true;\n                        }.bind(this)\n                    )\n                    .catch(function (error) {\n                        console.log(error);\n                    });\n            },\n        },\n        created() {\n            this.queryPage()\n        }\n    }\n",{"version":3,"sources":["classInfo.vue"],"names":[],"mappings":";AAiEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"classInfo.vue","sourceRoot":"src/components/page/class","sourcesContent":["<template>\n    <div>\n\n      <div class=\"crumbs\">\n        <el-breadcrumb separator=\"/\">\n          <el-breadcrumb-item>\n            <i class=\"el-icon-lx-calendar\"></i>教学管理\n          </el-breadcrumb-item>\n          <el-breadcrumb-item>班级管理</el-breadcrumb-item>\n        </el-breadcrumb>\n      </div>\n\n        <el-row :gutter=\"20\">\n            <el-col :span=\"6\">\n            </el-col>\n            <el-col :span=\"6\" style=\"margin-left: 85%\">\n                <el-button type=\"primary\" @click=\"dialogVisible = true\" style=\"margin-left: -80%\">新增班级</el-button>\n            </el-col>\n        </el-row>\n\n        <el-table\n                :data=\"tableData\"\n                height=\"300\"\n                border\n                stripe\n                style=\"width: 80%; margin-top: 10px;\">\n            <el-table-column prop=\"classId\" label=\"班级Id\"></el-table-column>\n            <el-table-column prop=\"className\" label=\"班级\"></el-table-column>\n            <el-table-column fixed=\"right\" label=\"操作\">\n                <template slot-scope=\"scope\">\n                    <el-button type=\"text\" size=\"small\" @click=\"deleteSub(scope)\">删除</el-button>\n                </template>\n            </el-table-column>\n        </el-table>\n\n        <Page :total=\"total\"\n              show-total\n              show-sizer\n              :page-size-opts=\"[10, 20, 30, 40, 10000]\"\n              v-show=\"tableDataShow\"\n              @on-change=\"changePage\"\n              @on-page-size-change=\"changePageSize\"\n              style=\"text-align: center; margin-left: -250px; margin-top: 10px;\"\n        />\n\n        <el-dialog\n              title=\"提示\"\n              :visible.sync=\"dialogVisible\"\n              width=\"30%\"\n              :before-close=\"handleClose\">\n            <el-form ref=\"form\" :model=\"form\" label-width=\"80px\">\n                <el-form-item label=\"班级：\">\n                    <el-input v-model=\"form.className\" style=\"width: 270px;\"></el-input>\n                </el-form-item>\n            </el-form>\n            <span slot=\"footer\" class=\"dialog-footer\">\n            <el-button @click=\"dialogVisible = false\">取 消</el-button>\n            <el-button type=\"primary\" @click=\"insert\">新 增</el-button>\n            </span>\n        </el-dialog>\n\n    </div>\n</template>\n\n<script>\n    export default {\n        name: \"classInfo\",\n        inject: ['reload'],\n        data() {\n            return {\n                tableData: [],\n                currentNum: 1,\n                pageSize: 10,\n                startDate: '',\n                total: 0,\n                tableDataShow: false,\n                form: {\n                    className: ''\n                },\n                dialogVisible: false,\n            }\n        },\n        methods: {\n            deleteSub(e) {\n                console.log(e)\n                let params = {\n                    id: e.row.classId,\n                };\n                this.axios\n                    .post('/zj/class/delete.htm', params)\n                    .then(\n                        function (response) {\n                            if (response.data.code == \"0000\") {\n                                this.$message.success(\"删除成功\");\n                                this.dialogVisible = false;\n                                this.reload();\n                            } else {\n                                this.$message.error(\"删除失败\");\n                            }\n                        }.bind(this)\n                    )\n                    .catch(function (error) {\n                        console.log(error);\n                    });\n\n            },\n            insert() {\n                let params = {\n                    className: this.form.className,\n                };\n                this.axios\n                    .post('/zj/class/insert.htm', params)\n                    .then(\n                        function (response) {\n                            if (response.data.code == \"0000\") {\n                                this.$message.success(\"新增成功\");\n                                this.dialogVisible = false;\n                                this.reload();\n                            } else {\n                                this.$message.error(\"新增失败\");\n                            }\n                        }.bind(this)\n                    )\n                    .catch(function (error) {\n                        console.log(error);\n                    });\n            },\n            handleClose(done) {\n                this.$confirm('确认关闭？')\n                    .then(_ => {\n                        done();\n                    })\n                    .catch(_ => {\n                    });\n            },\n            handleClick(row) {\n                console.log(row);\n            },\n            changePage(page) {\n                //设置页码\n                this.currentNum = page;\n                this.queryPage();\n            },\n            changePageSize(pageSize) {\n                //设置每页展示数量\n                this.pageSize = pageSize;\n                this.queryPage();\n            },\n            queryPage() {\n                let params = {\n                    currentNum: this.currentNum,\n                    pageSize: this.pageSize,\n                };\n                this.axios\n                    .post('/zj/class/queryPageByClass.htm', params)\n                    .then(\n                        function (response) {\n                            this.tableData = response.data.result.list;\n                            this.total = response.data.result.count;\n                            this.tableDataShow = true;\n                        }.bind(this)\n                    )\n                    .catch(function (error) {\n                        console.log(error);\n                    });\n            },\n        },\n        created() {\n            this.queryPage()\n        }\n    }\n</script>\n\n<style scoped>\n\n</style>\n"]}]}