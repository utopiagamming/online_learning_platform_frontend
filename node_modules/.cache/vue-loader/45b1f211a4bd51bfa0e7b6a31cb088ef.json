{"remainingRequest":"D:\\working\\projectCodes\\automatic-test-paper\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\working\\projectCodes\\automatic-test-paper\\src\\components\\page\\examination\\examinationRecord.vue?vue&type=style&index=0&id=f472d4d8&scoped=true&lang=scss&","dependencies":[{"path":"D:\\working\\projectCodes\\automatic-test-paper\\src\\components\\page\\examination\\examinationRecord.vue","mtime":1677664535549},{"path":"D:\\working\\projectCodes\\automatic-test-paper\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"D:\\working\\projectCodes\\automatic-test-paper\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\working\\projectCodes\\automatic-test-paper\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\working\\projectCodes\\automatic-test-paper\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\working\\projectCodes\\automatic-test-paper\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n.home {\n  min-width: 600px;\n  overflow-x: auto;\n}\n.card-box {\n  margin: 10px;\n\n  .type-title {\n    font-size: 16px;\n    font-weight: bold;\n    margin-bottom: 10px;\n\n    .item-title {\n      display: flex;\n    }\n  }\n\n  .title {\n    margin: 10px 0;\n  }\n\n  .item-box {\n    /*  display: flex;*/\n    /*width: 100%;*/\n    /*align-items: center;*/\n    /* height: 40px;*/\n    /* .label {*/\n    /*  width: 20px;*/\n    /* }*/\n    /*  .value {*/\n    /*  flex: 1;*/\n    /*  }*/\n  }\n\n  .content-box1 {\n    margin-bottom: 30px;\n  }\n}\n",{"version":3,"sources":["examinationRecord.vue"],"names":[],"mappings":";AA+RA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"examinationRecord.vue","sourceRoot":"src/components/page/examination","sourcesContent":["<template>\n  <div>\n    <el-row :gutter=\"20\">\n      <el-col :span=\"6\">\n        <el-col :span=\"6\" style=\"margin-left: 300%\">\n          <el-button @click=\"callBackPaperPage\">返回试卷</el-button>\n          <el-button @click=\"callPersonalization\">个性化组卷</el-button>\n        </el-col>\n      </el-col>\n    </el-row>\n\n    <el-table\n        :data=\"tableData\"\n        height=\"250\"\n        v-show=\"dataShow\"\n        border\n        stripe\n        style=\"width: 100%\">\n        <el-table-column prop=\"paperName\" label=\"试卷名称\"></el-table-column>\n        <el-table-column prop=\"userName\" label=\"学生姓名\"></el-table-column>\n        <el-table-column prop=\"paperScore\" label=\"试卷总分\"></el-table-column>\n        <el-table-column prop=\"fraction\" label=\"试卷得分\"></el-table-column>\n        <el-table-column fixed=\"right\" label=\"操作\">\n          <template slot-scope=\"scope\">\n            <el-button type=\"text\" size=\"small\" @click=\"queryPaper(scope)\">查看试卷</el-button>\n          </template>\n        </el-table-column>\n    </el-table>\n\n    <Page :total=\"total\"\n          show-total\n          show-sizer\n          :page-size-opts=\"[10, 20, 30, 40, 10000]\"\n          v-show=\"tableDataShow\"\n          @on-change=\"changePage\"\n          @on-page-size-change=\"changePageSize\"\n          style=\"text-align: center;\"\n    />\n\n    <div class=\"home\">\n      <el-card class=\"card-box\" v-for=\"item of dataList\" :key=\"item.id\" v-show=\"examShow\">\n        <!-- 单选 1    填空2    主观3 -->\n        <div>\n          <div class=\"item-title\"  v-for=\"(item2, index2) of item.list\" :key=\"index2\">\n\n            <div class=\"title\">\n              {{ index2 + 1 }}.{{ item2.titleName }}&nbsp&nbsp{{ item2.titleFraction }}分</div>\n            <div class=\"content-box1\" v-if=\"item.type === 3\">\n              <el-input type=\"textarea\" :rows=\"6\" placeholder=\"请输入内容\" v-model=\"item2.answer\"></el-input>\n              <br >\n              <p style=\"color:red\">\n                学生答案 ： {{item2.studentAnswers}}\n              </p>\n            </div>\n            <div class=\"item-box\" v-if=\"item2.type === 1\">\n              <el-radio-group v-model=\"item2.answer\">\n                <el-radio :label=\"item2.choice1\"></el-radio>\n                <el-radio :label=\"item2.choice2\"></el-radio>\n                <el-radio :label=\"item2.choice3\"></el-radio>\n                <el-radio :label=\"item2.choice4\"></el-radio>\n              </el-radio-group>\n              <br >\n              <p style=\"color:red\">\n                学生答案 ： {{item2.studentAnswers}}\n              </p>\n            </div>\n            <div class=\"item-box\" v-if=\"item2.type === 2\">\n              <el-checkbox-group v-model=\"item2.answer\">\n                <el-input type=\"textarea\" :rows=\"6\" placeholder=\"请输入内容\" v-model=\"item2.answer\"></el-input>\n              </el-checkbox-group>\n              <br >\n              <p style=\"color:red\">\n                学生答案 ： {{item2.studentAnswers}}\n              </p>\n            </div>\n          </div>\n        </div>\n      </el-card>\n    </div>\n\n    <div v-show=\"formShow\">\n      <el-table :data=\"personForm\" stripe style=\"width: 100%\">\n        <el-table-column prop=\"userId\" label=\"用户ID\" width=\"200\"></el-table-column>\n        <el-table-column prop=\"sectionName\" label=\"小节名称\" width=\"200\"></el-table-column>\n        <el-table-column prop=\"commandDegree\" label=\"掌握程度（系数）\" width=\"300\"></el-table-column>\n      </el-table>\n\n      <el-button type=\"primary\" @click=\"sendForm()\">确定生成</el-button>\n\n    </div>\n\n  </div>\n</template>\n\n<script>\n\nexport default {\n  name: \"examinationRecord\",\n  inject:['reload'],\n  data(){\n    return{\n      tableData: [],\n      currentNum: 1,\n      pageSize: 10,\n      startDate: '',\n      total: 0,\n      tableDataShow: false,\n      examShow:false,\n      dataShow:false,\n      form:{\n        subjectName: ''\n      },\n      dialogVisible: false,\n      dataList: [],\n      formShow:false,\n      personForm:[],\n      form2:{\n        userId:'',\n        sectionName:'',\n        commandDegree:0.0\n      }\n    }\n  },\n  methods: {\n    showPersonalization(){\n      this.axios\n          .post('/zj/personalization/showPersonalization.htm')\n          .then(\n              function (response){\n                this.personForm=response.data.result.list;\n              }.bind(this)\n          )\n          .catch(function (error) {\n            console.log(error);\n          });\n    },\n    callPersonalization(){\n      this.dataShow=false;\n      this.tableDataShow = false;\n      this.formShow=true;\n      this.showPersonalization();\n    },\n    handleClose(done) {\n      this.$confirm('确认关闭？')\n          .then(_ => {\n            done();\n          })\n          .catch(_ => {\n          });\n    },\n    handleClick(row) {\n      console.log(row);\n    },\n    changePage(page) {\n      //设置页码\n      this.currentNum = page;\n      this.queryPage();\n    },\n    changePageSize(pageSize) {\n      //设置每页展示数量\n      this.pageSize = pageSize;\n      this.queryPage();\n    },\n    callBackPaperPage() {\n      this.dataShow = true;\n      this.examShow = false;\n      this.queryPage();\n      this.reload();\n    },\n    queryPage() {\n      let params = {\n        currentNum: this.currentNum,\n        pageSize: this.pageSize,\n        menuName: this.menuName,\n      };\n      this.axios\n          .post('/zj/title/queryPaperByUserId.htm', params)\n          .then(\n              function (response) {\n                this.tableData = response.data.result.list;\n                this.total = response.data.result.count;\n                this.tableDataShow = true;\n                this.dataShow=true;\n              }.bind(this)\n          )\n          .catch(function (error) {\n            console.log(error);\n          });\n    },\n    queryPaper(row) {\n      let params = {\n        paperId: row.row.paperId\n      };\n      this.axios\n          .post('/zj/title/queryPaperCompleted.htm', params)\n          .then(\n              function (response) {\n                if (response.data.code == '0000') {\n                  this.tableDataShow = false;\n                  this.dataShow=false;\n                  this.examShow = true;\n                  this.dataList.push({\n                    list: this.changeArray(response.data.result.oneList1, 1, 'type'),\n\n                  });\n                  this.dataList.push({\n                    list: this.changeArray(response.data.result.oneList2, 2, 'type'),\n                  });\n                  this.dataList.push({\n                    list: this.changeArray(response.data.result.oneList3, 2, 'type'),\n                  });\n\n                } else {\n                  this.$message({message: '该试卷错误', type: 'error'});\n                }\n              }.bind(this)\n          )\n          .catch(function (error) {\n            console.log(error);\n          });\n    },\n    changeArray(one, val, name) {\n      one.map((x) => {\n        x[name] = val;\n        x['val'] = '';\n      });\n      return one;\n    },\n  },\n  sendForm(){\n    this.axios\n        .post('/zj/personalization/submitPersonalization.htm')\n        .then(\n            function (response){\n              if(response,data.code=='0000'){\n                \n              }\n            }\n        )\n  },\n  created() {\n    this.queryPage()\n  }\n}\n</script>\n\n<style scoped lang='scss'>\n .home {\n   min-width: 600px;\n   overflow-x: auto;\n }\n .card-box {\n   margin: 10px;\n\n   .type-title {\n     font-size: 16px;\n     font-weight: bold;\n     margin-bottom: 10px;\n\n     .item-title {\n       display: flex;\n     }\n   }\n\n   .title {\n     margin: 10px 0;\n   }\n\n   .item-box {\n     /*  display: flex;*/\n     /*width: 100%;*/\n     /*align-items: center;*/\n     /* height: 40px;*/\n     /* .label {*/\n     /*  width: 20px;*/\n     /* }*/\n     /*  .value {*/\n     /*  flex: 1;*/\n     /*  }*/\n   }\n\n   .content-box1 {\n     margin-bottom: 30px;\n   }\n }\n</style>\n"]}]}