{"remainingRequest":"/Users/mirabilite/IdeaProjects/version1/automatic-test-paper/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mirabilite/IdeaProjects/version1/automatic-test-paper/src/components/page/system/MenuInfo.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mirabilite/IdeaProjects/version1/automatic-test-paper/src/components/page/system/MenuInfo.vue","mtime":1684293284776},{"path":"/Users/mirabilite/IdeaProjects/version1/automatic-test-paper/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mirabilite/IdeaProjects/version1/automatic-test-paper/node_modules/babel-loader/lib/index.js","mtime":456789000000},{"path":"/Users/mirabilite/IdeaProjects/version1/automatic-test-paper/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mirabilite/IdeaProjects/version1/automatic-test-paper/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n    export default {\n        name: \"MenuInfo\",\n        data() {\n            return {\n                addMenuShow:false,\n                tableData: [],\n                currentNum: 1,\n                pageSize: 10,\n                startDate: '',\n                total: 0,\n                endDate: '',\n                tableDataShow: false,\n                menuName:'',\n                form:{\n                    menuName:'',\n                    menuIcon:'',\n                    menuIndex:'',\n                    menuDegree:'',\n                    parentId:'',\n                }\n            }\n        },\n        methods:{\n            handleClose(done) {\n                this.$confirm('确认关闭？')\n                    .then(_ => {\n                        done();\n                    })\n                    .catch(_ => {\n                    });\n            },\n            setBeginTime(date) {\n                //设置时间\n                this.stratDate = date;\n            },\n            setEndTime(date) {\n                //设置时间\n                this.endDate = date;\n            },\n            changePage(page) {\n                //设置页码\n                this.currentNum = page;\n                this.queryPage();\n            },\n            changePageSize(pageSize) {\n                //设置每页展示数量\n                this.pageSize = pageSize;\n                this.queryPage();\n            },\n            queryPage(){\n                let params = {\n                    currentNum: this.currentNum,\n                    pageSize: this.pageSize,\n                    menuName: this.menuName,\n                };\n                this.axios\n                    .post('/zj/menu/queryPage.htm', params)\n                    .then(\n                        function (response) {\n                            this.tableData = response.data.result.list;\n                            this.total = response.data.result.count;\n                            this.tableDataShow = true;\n                        }.bind(this)\n                    )\n                    .catch(function (error) {\n                        console.log(error);\n                    });\n            },\n            insertMenuInfo(){\n                let params = {\n                    menuName: this.form.menuName,\n                    menuIndex:this.form.menuIndex,\n                    menuDegree:this.form.menuDegree,\n                    parentId: this.form.parentId,\n                };\n                this.axios\n                    .post('/zj/menu/insertMenuInfo.htm', params)\n                    .then(\n                        function (response) {\n                            if (response.data.code == \"0000\"){\n                                this.$message.success(\"新增成功\");\n                                this.addMenuShow = false;\n                            }else {\n                                this.$message.error(\"新增失败\");\n                            }\n                        }.bind(this)\n                    )\n                    .catch(function (error) {\n                        console.log(error);\n                    });\n\n            },\n\n\n\n        },\n        created(){\n            this.queryPage()\n        }\n    }\n",{"version":3,"sources":["MenuInfo.vue"],"names":[],"mappings":";AAgFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;AAIA;AACA;AACA;AACA;AACA","file":"MenuInfo.vue","sourceRoot":"src/components/page/system","sourcesContent":["<template>\n    <div class=\"wrapper\">\n        <div style=\"margin-top: 20px\">\n            <el-row :gutter=\"20\">\n                <el-col :span=\"6\">\n                    <div class=\"grid-content bg-purple\">\n                        <span style=\"cell_options_label\">菜单名称:</span>\n                        <el-input v-model=\"menuName\" style=\"width: 70%\"\n                                  placeholder=\"请输入菜单名称\">\n                        </el-input>\n                    </div>\n                </el-col>\n                <el-col :span=\"6\">\n                    <div class=\"grid-content bg-purple\">\n                        <el-button type=\"primary\" class=\"glocal_button\" icon=\"ios-search\"\n                                   @click=\"queryPage\">查询\n                        </el-button>\n                    </div>\n                </el-col>\n                <el-col :span=\"6\">\n                    <div class=\"grid-content bg-purple\">\n                        <el-button type=\"primary\" class=\"glocal_button\" icon=\"ios-search\"\n                                   @click=\"addMenuShow=true\">新增\n                        </el-button>\n                    </div>\n                </el-col>\n            </el-row>\n        </div>\n\n        <div>\n            <el-table :data=\"tableData\" stripe style=\"width: 90%\">\n                <el-table-column prop=\"menuId\" label=\"菜单ID\" width=\"180\"></el-table-column>\n                <el-table-column prop=\"menuName\" label=\"菜单名称\" width=\"250\"></el-table-column>\n                <el-table-column prop=\"menuIndex\" label=\"菜单链接\" width=\"250\"></el-table-column>\n                <el-table-column prop=\"menuDegree\" label=\"菜单层级\" width=\"250\"></el-table-column>\n                <el-table-column prop=\"parentId\" label=\"父菜单ID\">\n                  <template slot-scope=\"scope\">\n                    {{ scope.row.parentId ? scope.row.parentId : '父级菜单' }}\n                  </template>\n                </el-table-column>\n            </el-table>\n            <Page :total=\"total\"\n                  show-total\n                  show-sizer\n                  :page-size-opts=\"[10, 20, 30, 40, 10000]\"\n                  v-show=\"tableDataShow\"\n                  @on-change=\"changePage\"\n                  @on-page-size-change=\"changePageSize\"\n                  style=\"margin-left: 400px;margin-top: 10px;\"\n            />\n        </div>\n\n        <!--菜单新增-->\n        <el-dialog title=\"菜单新增\" :visible.sync=\"addMenuShow\" width=\"25%\" :before-close=\"handleClose\">\n            <span>\n                <el-form ref=\"form\" :model=\"form\">\n                    <el-form-item label=\"菜单名称\" label-width=\"100px\">\n                        <el-input v-model=\"form.menuName\" style=\"width: 180px\"></el-input>\n                    </el-form-item>\n                    <el-form-item label=\"菜单链接\" label-width=\"100px\">\n                        <el-input v-model=\"form.menuIndex\" style=\"width: 180px\"></el-input>\n                    </el-form-item>\n                    <el-form-item label=\"菜单层级\" label-width=\"100px\">\n                        <el-input v-model=\"form.menuDegree\" style=\"width: 180px\"></el-input>\n                    </el-form-item>\n                    <el-form-item label=\"父菜单ID\" label-width=\"100px\">\n                        <el-input v-model=\"form.parentId\" style=\"width: 180px\"></el-input>\n                    </el-form-item>\n                </el-form>\n            </span>\n            <span slot=\"footer\" class=\"dialog-footer\">\n                <el-button @click=\"addMenuShow = false\">取 消</el-button>\n                <el-button type=\"primary\" @click=\"insertMenuInfo\">确 定</el-button>\n            </span>\n        </el-dialog>\n\n    </div>\n</template>\n\n<script>\n    export default {\n        name: \"MenuInfo\",\n        data() {\n            return {\n                addMenuShow:false,\n                tableData: [],\n                currentNum: 1,\n                pageSize: 10,\n                startDate: '',\n                total: 0,\n                endDate: '',\n                tableDataShow: false,\n                menuName:'',\n                form:{\n                    menuName:'',\n                    menuIcon:'',\n                    menuIndex:'',\n                    menuDegree:'',\n                    parentId:'',\n                }\n            }\n        },\n        methods:{\n            handleClose(done) {\n                this.$confirm('确认关闭？')\n                    .then(_ => {\n                        done();\n                    })\n                    .catch(_ => {\n                    });\n            },\n            setBeginTime(date) {\n                //设置时间\n                this.stratDate = date;\n            },\n            setEndTime(date) {\n                //设置时间\n                this.endDate = date;\n            },\n            changePage(page) {\n                //设置页码\n                this.currentNum = page;\n                this.queryPage();\n            },\n            changePageSize(pageSize) {\n                //设置每页展示数量\n                this.pageSize = pageSize;\n                this.queryPage();\n            },\n            queryPage(){\n                let params = {\n                    currentNum: this.currentNum,\n                    pageSize: this.pageSize,\n                    menuName: this.menuName,\n                };\n                this.axios\n                    .post('/zj/menu/queryPage.htm', params)\n                    .then(\n                        function (response) {\n                            this.tableData = response.data.result.list;\n                            this.total = response.data.result.count;\n                            this.tableDataShow = true;\n                        }.bind(this)\n                    )\n                    .catch(function (error) {\n                        console.log(error);\n                    });\n            },\n            insertMenuInfo(){\n                let params = {\n                    menuName: this.form.menuName,\n                    menuIndex:this.form.menuIndex,\n                    menuDegree:this.form.menuDegree,\n                    parentId: this.form.parentId,\n                };\n                this.axios\n                    .post('/zj/menu/insertMenuInfo.htm', params)\n                    .then(\n                        function (response) {\n                            if (response.data.code == \"0000\"){\n                                this.$message.success(\"新增成功\");\n                                this.addMenuShow = false;\n                            }else {\n                                this.$message.error(\"新增失败\");\n                            }\n                        }.bind(this)\n                    )\n                    .catch(function (error) {\n                        console.log(error);\n                    });\n\n            },\n\n\n\n        },\n        created(){\n            this.queryPage()\n        }\n    }\n</script>\n\n<style scoped>\n.wrapper{\n  width: 100%;\n}\n\n  .grid-content {\n      border-radius: 10px;\n      min-height: 50px;\n  }\n</style>\n"]}]}