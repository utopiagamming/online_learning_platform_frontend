{"remainingRequest":"/Users/mirabilite/IdeaProjects/version1/automatic-test-paper/node_modules/babel-loader/lib/index.js!/Users/mirabilite/IdeaProjects/version1/automatic-test-paper/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/mirabilite/IdeaProjects/version1/automatic-test-paper/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mirabilite/IdeaProjects/version1/automatic-test-paper/src/components/page/class/achievement.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mirabilite/IdeaProjects/version1/automatic-test-paper/src/components/page/class/achievement.vue","mtime":1682775144776},{"path":"/Users/mirabilite/IdeaProjects/version1/automatic-test-paper/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mirabilite/IdeaProjects/version1/automatic-test-paper/node_modules/babel-loader/lib/index.js","mtime":456789000000},{"path":"/Users/mirabilite/IdeaProjects/version1/automatic-test-paper/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mirabilite/IdeaProjects/version1/automatic-test-paper/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import echarts from 'echarts';\nexport default {\n  name: \"achievement\",\n  inject: ['reload'],\n  data() {\n    return {\n      tableData: [],\n      currentNum: 1,\n      pageSize: 10,\n      paperName: '',\n      userName: '',\n      className: '',\n      difficulty: '',\n      keyWords: '',\n      startDate: '',\n      total: 0,\n      tableDataShow: false,\n      achievementShow: false,\n      charts: '',\n      opinionData: [\"3\", \"2\", \"4\", \"4\", \"5\"]\n    };\n  },\n  //调用\n  mounted() {\n    this.$nextTick(function () {\n      this.drawLine('main');\n    });\n  },\n  methods: {\n    handleClose(done) {\n      this.$confirm('确认关闭？').then(_ => {\n        done();\n      }).catch(_ => {});\n    },\n    queryAchievement() {\n      let param = {};\n      const form = document.createElement('form');\n      form.id = 'form';\n      form.name = 'form';\n      document.body.appendChild(form);\n      for (const obj in param) {\n        if (param.hasOwnProperty(obj)) {\n          const input = document.createElement('input');\n          input.tpye = 'hidden';\n          input.name = obj;\n          input.value = param[obj];\n          form.appendChild(input);\n        }\n      }\n      form.method = 'GET'; //请求方式\n      form.action = '/zj/paper/queryExport.htm';\n      form.submit();\n      document.body.removeChild(form);\n    },\n    changePage(page) {\n      //设置页码\n      this.currentNum = page;\n      this.queryPage();\n    },\n    changePageSize(pageSize) {\n      //设置每页展示数量\n      this.pageSize = pageSize;\n      this.queryPage();\n    },\n    queryPage() {\n      let params = {\n        keyWords: this.keyWords,\n        currentNum: this.currentNum,\n        pageSize: this.pageSize,\n        paperName: this.paperName,\n        userName: this.userName,\n        className: this.className,\n        difficulty: this.difficulty\n      };\n      this.axios.post('/zj/paper/queryPage.htm', params).then(function (response) {\n        this.tableData = response.data.result.list;\n        this.total = response.data.result.count;\n        this.tableDataShow = true;\n      }.bind(this)).catch(function (error) {\n        console.log(error);\n      });\n    }\n  },\n  created() {\n    this.queryPage();\n  }\n};",{"version":3,"mappings":"AAsDA;AACA;EACAA;EACAC;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EACA;EACAC;IACA;MACA;IACA;EACA;EACAC;IAEAC;MACA,uBACAC;QACAC;MACA,GACAC;IACA;IACAC;MACA,aACA;MACA;MACAC;MACAA;MACAC;MACA;QACA;UACA;UACAC;UACAA;UACAA;UACAF;QACA;MACA;MACAA;MACAA;MACAA;MACAC;IACA;IACAE;MACA;MACA;MACA;IACA;IACAC;MACA;MACA;MACA;IACA;IACAC;MACA;QACAnB;QACAN;QACAC;QACAC;QACAC;QACAC;QACAC;MACA;MACA,WACAqB,wCACAV,KACA;QACA;QACA;QACA;MACA,aACA,CACAE;QACAS;MACA;IACA;EACA;EACAC;IACA;EACA;AACA","names":["name","inject","data","tableData","currentNum","pageSize","paperName","userName","className","difficulty","keyWords","startDate","total","tableDataShow","achievementShow","charts","opinionData","mounted","methods","handleClose","then","done","catch","queryAchievement","form","document","input","changePage","changePageSize","queryPage","post","console","created"],"sourceRoot":"src/components/page/class","sources":["achievement.vue"],"sourcesContent":["<template>\n  <div class=\"el-icon-searching\">\n    <div class=\"crumbs\" style=\"margin-top: -10px;\">\n      <el-breadcrumb separator=\"/\">\n        <el-breadcrumb-item>\n          <i class=\"el-icon-lx-calendar\"></i>成绩管理\n        </el-breadcrumb-item>\n        <el-breadcrumb-item>成绩列表</el-breadcrumb-item>\n      </el-breadcrumb>\n    </div>\n\n    <el-row :gutter=\"20\">\n        <el-col :span=\"6\"><el-input v-model=\"keyWords\" placeholder=\"请输入内容\"></el-input></el-col>\n        <el-col :span=\"3\"><el-input v-model=\"paperName\" placeholder=\"试卷名称\"></el-input></el-col>\n        <el-col :span=\"3\"><el-input v-model=\"userName\" placeholder=\"学生姓名\"></el-input></el-col>\n        <el-col :span=\"3\"><el-input v-model=\"className\" placeholder=\"班级\"></el-input></el-col>\n        <el-col :span=\"3\"><el-input v-model=\"difficulty\" placeholder=\"难度\"></el-input></el-col>\n        <el-col :span=\"6\" ><el-button type=\"primary\" @click=\"queryPage\">查询</el-button></el-col>\n        <el-col :span=\"2\" ><el-button @click=\"queryAchievement\" style=\"margin-left: 1150px; margin-top: -450px;\">成绩单导出</el-button></el-col>\n    </el-row>\n\n    <el-table\n        :data=\"tableData\"\n        height=\"500\"\n        stripe\n        style=\"width: 95%; margin-top: 20px;\">\n        <el-table-column prop=\"className\" label=\"班级\"></el-table-column>\n        <el-table-column prop=\"userName\" label=\"学生\"></el-table-column>\n        <el-table-column prop=\"paperName\" label=\"试卷\"></el-table-column>\n        <el-table-column prop=\"fraction\" label=\"考试成绩\">\n          <template slot-scope=\"{ row }\">\n            <span v-if=\"row.fraction\">{{ row.fraction }}</span>\n            <span v-else>该生尚未作答</span>\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"paperScore\" label=\"试卷满分\"></el-table-column>\n        <el-table-column prop=\"difficulty\" label=\"考试难度\">\n        </el-table-column>\n    </el-table>\n\n    <Page :total=\"total\"\n        show-total\n        show-sizer\n        :page-size-opts=\"[10, 20, 30, 40, 10000]\"\n        v-show=\"tableDataShow\"\n        @on-change=\"changePage\"\n        @on-page-size-change=\"changePageSize\"\n        style=\"text-align: center;\"\n    />\n\n  </div>\n</template>\n\n<script>\nimport echarts from 'echarts'\nexport default {\n  name: \"achievement\",\n  inject:['reload'],\n  data() {\n    return {\n      tableData: [],\n      currentNum: 1,\n      pageSize: 10,\n      paperName:'',\n      userName:'',\n      className:'',\n      difficulty:'',\n      keyWords:'',\n      startDate: '',\n      total: 0,\n      tableDataShow: false,\n      achievementShow:false,\n      charts: '',\n      opinionData: [\"3\", \"2\", \"4\", \"4\", \"5\"],\n    }\n  },\n  //调用\n  mounted() {\n    this.$nextTick(function() {\n      this.drawLine('main')\n    })\n  },\n  methods: {\n\n    handleClose(done) {\n      this.$confirm('确认关闭？')\n          .then(_ => {\n            done();\n          })\n          .catch(_ => {});\n    },\n    queryAchievement(){\n      let param = {\n      };\n      const form = document.createElement('form');\n      form.id = 'form';\n      form.name = 'form';\n      document.body.appendChild(form);\n      for (const obj in param) {\n        if (param.hasOwnProperty(obj)) {\n          const input = document.createElement('input');\n          input.tpye = 'hidden';\n          input.name = obj;\n          input.value = param[obj];\n          form.appendChild(input);\n        }\n      }\n      form.method = 'GET'; //请求方式\n      form.action = '/zj/paper/queryExport.htm';\n      form.submit();\n      document.body.removeChild(form);\n    },\n    changePage(page) {\n      //设置页码\n      this.currentNum = page;\n      this.queryPage();\n    },\n    changePageSize(pageSize) {\n      //设置每页展示数量\n      this.pageSize = pageSize;\n      this.queryPage();\n    },\n    queryPage() {\n      let params = {\n        keyWords:this.keyWords,\n        currentNum: this.currentNum,\n        pageSize: this.pageSize,\n        paperName:this.paperName,\n        userName:this.userName,\n        className:this.className,\n        difficulty:this.difficulty\n      };\n      this.axios\n          .post('/zj/paper/queryPage.htm', params)\n          .then(\n              function (response) {\n                this.tableData = response.data.result.list;\n                this.total = response.data.result.count;\n                this.tableDataShow = true;\n              }.bind(this)\n          )\n          .catch(function (error) {\n            console.log(error);\n          });\n    },\n  },\n  created() {\n    this.queryPage()\n  }\n}\n</script>\n\n<style scoped>\n#chart{\n  text-align: left;\n}\n#chart-line,#chart-bar,#chart-pie {\n  width: 100%;\n  height: 300px;\n}\n.el-icon-searching{\n  margin-top: 20px;\n}\n</style>"]}]}