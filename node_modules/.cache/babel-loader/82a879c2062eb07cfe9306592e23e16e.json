{"remainingRequest":"/Users/mirabilite/IdeaProjects/version1/automatic-test-paper/node_modules/babel-loader/lib/index.js!/Users/mirabilite/IdeaProjects/version1/automatic-test-paper/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/mirabilite/IdeaProjects/version1/automatic-test-paper/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mirabilite/IdeaProjects/version1/automatic-test-paper/src/components/page/system/UserInfo.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mirabilite/IdeaProjects/version1/automatic-test-paper/src/components/page/system/UserInfo.vue","mtime":1682760258474},{"path":"/Users/mirabilite/IdeaProjects/version1/automatic-test-paper/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mirabilite/IdeaProjects/version1/automatic-test-paper/node_modules/babel-loader/lib/index.js","mtime":456789000000},{"path":"/Users/mirabilite/IdeaProjects/version1/automatic-test-paper/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mirabilite/IdeaProjects/version1/automatic-test-paper/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import axios from 'axios';\nexport default {\n  data() {\n    return {\n      formLabelWidth: '100px',\n      dialogFormVisible: false,\n      search: '',\n      tableData: [],\n      currentNum: 1,\n      pageSize: 10,\n      startDate: '',\n      total: 0,\n      endDate: '',\n      tableDataShow: false,\n      form: {\n        userName: '',\n        userId: '',\n        password: '',\n        isDelete: '',\n        typeId: ''\n      }\n    };\n  },\n  methods: {\n    updaeForm(form) {\n      console.log(form);\n      let params = {\n        userId: form.userId,\n        password: form.password,\n        typeId: form.typeId,\n        userName: form.userName,\n        isDelete: form.isDelete\n      };\n      axios.post('/zj/login/updateUserInfo.htm', params).then(response => {\n        if (response.data.code == \"0000\") {\n          this.$message({\n            message: \"修改成功\",\n            type: 'success'\n          });\n          this.dialogFormVisible = false;\n        } else {\n          this.$message({\n            message: \"修改出错\",\n            type: 'error'\n          });\n          // return false;\n        }\n      });\n    },\n\n    handleClick(row) {\n      console.log(row);\n      this.form = row;\n      this.dialogFormVisible = true;\n    },\n    //清除当前表单里面数据\n    resetForm() {\n      this.dialogFormVisible = false;\n    },\n    setBeginTime(date) {\n      //设置时间\n      this.stratDate = date;\n    },\n    setEndTime(date) {\n      //设置时间\n      this.endDate = date;\n    },\n    changePage(page) {\n      //设置页码\n      this.currentNum = page;\n      this.queryUserInfoByBaseQuery();\n    },\n    changePageSize(pageSize) {\n      //设置每页展示数量\n      this.pageSize = pageSize;\n      this.queryUserInfoByBaseQuery();\n    },\n    queryUserInfoByBaseQuery() {\n      let params = {\n        currentNum: this.currentNum,\n        pageSize: this.pageSize,\n        keyWords: this.search\n      };\n      this.axios.post('/zj/login/queryUserInfo.htm', params).then(function (response) {\n        this.tableData = response.data.result.list;\n        this.total = response.data.result.count;\n        this.tableDataShow = true;\n      }.bind(this)).catch(function (error) {\n        console.log(error);\n      });\n    }\n  },\n  created() {\n    this.queryUserInfoByBaseQuery();\n  }\n};",{"version":3,"mappings":"AA6FA;AAEA;EACAA;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;QACAC;QACAC;QACAC;QACAC;QACAC;MACA;IAGA;EACA;EACAC;IACAC;MACAC;MACA;QACAN;QACAC;QACAE;QACAJ;QACAG;MACA;MACAK,mDACAC;QACA;UACA;YAAAC;YAAAC;UAAA;UACA;QACA;UACA;YAAAD;YAAAC;UAAA;UACA;QACA;MACA;IACA;;IACAC;MACAL;MACA;MACA;IACA;IACA;IACAM;MACA;IACA;IAGAC;MACA;MACA;IACA;IACAC;MACA;MACA;IACA;IACAC;MACA;MACA;MACA;IACA;IACAC;MACA;MACA;MACA;IACA;IAEAC;MACA;QACAzB;QACAC;QACAyB;MACA;MACA,WACAC,4CACAX,KACA;QACA;QACA;QACA;MACA,aACA,CACAY;QACAd;MACA;IAEA;EAGA;EACAe;IACA;EACA;AACA","names":["data","formLabelWidth","dialogFormVisible","search","tableData","currentNum","pageSize","startDate","total","endDate","tableDataShow","form","userName","userId","password","isDelete","typeId","methods","updaeForm","console","axios","then","message","type","handleClick","resetForm","setBeginTime","setEndTime","changePage","changePageSize","queryUserInfoByBaseQuery","keyWords","post","catch","created"],"sourceRoot":"src/components/page/system","sources":["UserInfo.vue"],"sourcesContent":["<template>\n    <div>\n        <div class=\"crumbs\">\n            <el-breadcrumb separator=\"/\">\n                <el-breadcrumb-item>\n                    <i class=\"el-icon-lx-calendar\"></i> 系统管理\n                </el-breadcrumb-item>\n                <el-breadcrumb-item>用户管理</el-breadcrumb-item>\n            </el-breadcrumb>\n        </div>\n\n        <div>\n            <Row class=\"row_line\">\n                <div class=\"cell_options\">\n                    <span class=\"cell_options_span\" style=\"cell_options_label\">模糊查询:</span>\n                    <el-input v-model=\"search\" style=\"width: 70%\" placeholder=\"请输入搜索内容\" width=\"250px\"></el-input>\n                </div>\n                <div class=\"cell_options_button\">\n                    <el-button type=\"primary\" class=\"global_button\" icon=\"ios-search\" @click=\"queryUserInfoByBaseQuery\">查询</el-button>\n                </div>\n            </Row>\n        </div>\n\n        <div>\n            <el-table class=\"table1\"\n                    :data=\"tableData\"\n                    height=\"550\"\n                    border\n                    style=\"width: 88%\">\n                <el-table-column type=\"index\" width=\"50px\"></el-table-column>\n                <el-table-column prop=\"userId\" label=\"人员id\" width=\"150px\"></el-table-column>\n                <el-table-column prop=\"userName\" label=\"人员姓名\" width=\"150px\"></el-table-column>\n                <el-table-column prop=\"className\" label=\"班级\" width=\"180px\"></el-table-column>\n                <el-table-column prop=\"roleId\" label=\"所属角色\" width=\"100px\">\n<!--                        <template slot-scope=\"scope\">{{ scope.row.roleId}}</template>-->\n                    <template slot-scope=\"scope\">{{ scope.row.roleId === \"student\" ? '学生' : '老师' }}</template>\n                </el-table-column>\n                <el-table-column prop=\"password\" label=\"用户密码\" width=\"250px\"></el-table-column>\n                <el-table-column prop=\"isDelete\" label=\"是否删除\" width=\"80px\">\n                    <template slot-scope=\"scope\">{{ scope.row.isDelete === 0 ? '否' : '是' }}</template>\n                </el-table-column>\n                <el-table-column prop=\"createTime\" label=\"创建时间\" width=\"150px\"></el-table-column>\n                <el-table-column  label=\"操作\" width=\"60\">\n                    <template slot-scope=\"scope\">\n                        <el-button @click=\"handleClick(scope.row)\" type=\"text\">编辑</el-button>\n                    </template>\n                </el-table-column>\n            </el-table>\n            <Page :total=\"total\"\n                  show-total\n                  show-sizer\n                  :page-size-opts=\"[10, 20, 30, 40, 10000]\"\n                  v-show=\"tableDataShow\"\n                  @on-change=\"changePage\"\n                  @on-page-size-change=\"changePageSize\"\n                  style=\"text-align: center;\"\n                  class=\"pager1\"\n            />\n        </div>\n\n        <el-dialog title=\"用户注册\" :visible.sync=\"dialogFormVisible\" center width=\"25%\" :destroy-on-close=\"true\">\n            <el-form :model=\"form\" ref=\"form\">\n                <el-form-item label=\"登录姓名：\" label-width=\"100px\" >\n                    <el-input v-model=\"form.userName\" :label-width=\"formLabelWidth\" placeholder=\"姓名\"\n                              style=\"width: 200px\"></el-input>\n                </el-form-item>\n                <el-form-item label=\"登录账号：\" label-width=\"100px\" >\n                    <el-input v-model=\"form.userId\" :label-width=\"formLabelWidth\" :disabled=\"true\" placeholder=\"学号或者教师号\"\n                              style=\"width: 200px\"></el-input>\n                </el-form-item>\n                <el-form-item label=\"登录密码：\" label-width=\"100px\">\n                    <el-input type=\"password\" v-model=\"form.password\" :label-width=\"formLabelWidth\" :disabled=\"true\"\n                              placeholder=\"密码\"\n                              style=\"width: 200px\"></el-input>\n                </el-form-item>\n                <el-form-item label=\"是否删除：\" label-width=\"100px\">\n                    <el-select v-model=\"form.isDelete\" placeholder=\"是否删除\" :label-width=\"formLabelWidth\"\n                               style=\"width: 200px\">\n                        <el-option label=\"否\" :value= 0></el-option>\n                        <el-option label=\"是\" :value= 1></el-option>\n                    </el-select>\n                </el-form-item>\n            </el-form>\n            <div slot=\"footer\" class=\"dialog-footer\">\n                <el-button @click=\"resetForm('form')\">取 消</el-button>\n                <el-button type=\"primary\" @click=\"updaeForm(form)\">修 改</el-button>\n            </div>\n        </el-dialog>\n\n    </div>\n</template>\n\n<script>\n    import axios from 'axios'\n\n    export default {\n        data() {\n            return {\n                formLabelWidth: '100px',\n                dialogFormVisible: false,\n                search: '',\n                tableData: [],\n                currentNum: 1,\n                pageSize: 10,\n                startDate: '',\n                total: 0,\n                endDate: '',\n                tableDataShow: false,\n                form: {\n                    userName: '',\n                    userId: '',\n                    password: '',\n                    isDelete: '',\n                    typeId: '',\n                },\n\n\n            }\n        },\n        methods: {\n            updaeForm(form) {\n                console.log(form)\n                let params = {\n                    userId: form.userId,\n                    password: form.password,\n                    typeId: form.typeId,\n                    userName: form.userName,\n                    isDelete: form.isDelete,\n                }\n                axios.post('/zj/login/updateUserInfo.htm', params)\n                    .then(response => {\n                        if (response.data.code == \"0000\") {\n                            this.$message({message: \"修改成功\", type: 'success'});\n                            this.dialogFormVisible = false;\n                        } else {\n                            this.$message({message: \"修改出错\", type: 'error'});\n                            // return false;\n                        }\n                    });\n            },\n            handleClick(row) {\n                console.log(row);\n                this.form = row;\n                this.dialogFormVisible = true;\n            },\n            //清除当前表单里面数据\n            resetForm() {\n                this.dialogFormVisible = false;\n            },\n\n\n            setBeginTime(date) {\n                //设置时间\n                this.stratDate = date;\n            },\n            setEndTime(date) {\n                //设置时间\n                this.endDate = date;\n            },\n            changePage(page) {\n                //设置页码\n                this.currentNum = page;\n                this.queryUserInfoByBaseQuery();\n            },\n            changePageSize(pageSize) {\n                //设置每页展示数量\n                this.pageSize = pageSize;\n                this.queryUserInfoByBaseQuery();\n            },\n\n            queryUserInfoByBaseQuery() {\n                let params = {\n                    currentNum: this.currentNum,\n                    pageSize: this.pageSize,\n                    keyWords: this.search,\n                };\n                this.axios\n                    .post('/zj/login/queryUserInfo.htm', params)\n                    .then(\n                        function (response) {\n                            this.tableData = response.data.result.list;\n                            this.total = response.data.result.count;\n                            this.tableDataShow = true;\n                        }.bind(this)\n                    )\n                    .catch(function (error) {\n                        console.log(error);\n                    });\n\n            },\n\n\n        },\n        created() {\n            this.queryUserInfoByBaseQuery();\n        }\n    }\n</script>\n\n<style scoped>\n    .row_line {\n        padding-top: 10px;\n        padding-bottom: 10px;\n        padding-left: 20px;\n    }\n\n    .is-finish {\n        padding: 0 !important;\n    }\n\n    .is-process {\n        padding: 0 !important;\n    }\n\n    .is-wait {\n        padding: 0 !important;\n    }\n\n    .ivu-modal-body {\n        padding: 0;\n    }\n\n    .global_button {\n        margin-left: 20px;\n    }\n\n    .item {\n        margin-top: 10px;\n        margin-right: 40px;\n    }\n\n    .cell_options {\n        width: 15%;\n        float: left;\n    }\n\n    /*.cell_options_span{*/\n    /*  margin-right: 40px;*/\n    /*}*/\n\n    .cell_options_label {\n        width: 30%;\n    }\n\n    /*.cell_options_button{*/\n    /*  margin-right: 140px;*/\n    /*}*/\n    .table1{\n      margin-left: 20px;\n    }\n    .pager1{\n      margin-top: 10px;\n    }\n</style>\n"]}]}